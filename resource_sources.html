<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Resource Sources &mdash; gnomad master documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="gnomad.assessment.validity_checks" href="api_reference/assessment/validity_checks.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            gnomad
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference/index.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Resource Sources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#custom-sources">Custom Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environment-configuration">Environment Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/broadinstitute/gnomad_methods/releases">Change Log</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gnomad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Resource Sources</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/resource_sources.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="resource-sources">
<h1>Resource Sources<a class="headerlink" href="#resource-sources" title="Permalink to this heading"></a></h1>
<p>gnomAD data is available through <a class="reference external" href="https://gnomad.broadinstitute.org/news/2020-10-open-access-to-gnomad-data-on-multiple-cloud-providers/">multiple cloud providers’ public datasets programs</a>.</p>
<p>The functions in the <a class="reference internal" href="api_reference/resources/index.html"><span class="doc">gnomad.resources</span></a> package can be configured to load data from different sources.</p>
<p>If Hail determines that is is running in a cloud provider’s Spark environment, resources will default to being read from that cloud provider’s datasets program.
Otherwise, resources will default to being read from Google Cloud Public Datasets.
This can be configured using the <code class="docutils literal notranslate"><span class="pre">GNOMAD_DEFAULT_PUBLIC_RESOURCE_SOURCE</span></code> environment variable.</p>
<p>To load resources from a different source (for example, the gnomAD project’s public GCS bucket), use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gnomad.resources.config</span> <span class="kn">import</span> <span class="n">gnomad_public_resource_configuration</span><span class="p">,</span> <span class="n">GnomadPublicResourceSource</span>

<span class="n">gnomad_public_resource_configuration</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">GnomadPublicResourceSource</span><span class="o">.</span><span class="n">GNOMAD</span>
</pre></div>
</div>
<p>To see all available public sources for gnomAD resources, use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gnomad.resources.config</span> <span class="kn">import</span> <span class="n">GnomadPublicResourceSource</span>

<span class="nb">list</span><span class="p">(</span><span class="n">GnomadPublicResourceSource</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The gnomAD project’s bucket (<code class="docutils literal notranslate"><span class="pre">gs://gnomad-public-requester-pays</span></code>) is <a class="reference external" href="https://cloud.google.com/storage/docs/requester-pays">requester pays</a>, meaning that charges for data access and transfer will be billed to your Google Cloud project.</p>
<p>Clusters must be configured to read requester pays buckets during creation. For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hailctl</span> <span class="n">dataproc</span> <span class="n">start</span> <span class="n">cluster</span><span class="o">-</span><span class="n">name</span> <span class="o">--</span><span class="n">packages</span> <span class="n">gnomad</span> <span class="o">--</span><span class="n">requester</span><span class="o">-</span><span class="n">pays</span><span class="o">-</span><span class="n">allow</span><span class="o">-</span><span class="n">buckets</span> <span class="n">gnomad</span><span class="o">-</span><span class="n">public</span><span class="o">-</span><span class="n">requester</span><span class="o">-</span><span class="n">pays</span>
</pre></div>
</div>
</div>
<section id="custom-sources">
<h2>Custom Sources<a class="headerlink" href="#custom-sources" title="Permalink to this heading"></a></h2>
<p>Alternatively, instead of using one of the pre-defined public sources, a custom source can be provided.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gnomad.resources.config</span> <span class="kn">import</span> <span class="n">gnomad_public_resource_configuration</span>

<span class="n">gnomad_public_resource_configuration</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;gs://my-bucket/gnomad-resources&quot;</span>
</pre></div>
</div>
</section>
<section id="environment-configuration">
<h2>Environment Configuration<a class="headerlink" href="#environment-configuration" title="Permalink to this heading"></a></h2>
<p>The default source can be configured through the <code class="docutils literal notranslate"><span class="pre">GNOMAD_DEFAULT_PUBLIC_RESOURCE_SOURCE</span></code> environment variable. This variable can be set to either the name of one of the public datasets programs or the URL of a custom source.</p>
<p>Examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GNOMAD_DEFAULT_PUBLIC_RESOURCE_SOURCE=&quot;Google</span> <span class="pre">Cloud</span> <span class="pre">Public</span> <span class="pre">Datasets&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GNOMAD_DEFAULT_PUBLIC_RESOURCE_SOURCE=&quot;gs://my-bucket/gnomad-resources&quot;</span></code></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api_reference/assessment/validity_checks.html" class="btn btn-neutral float-left" title="gnomad.assessment.validity_checks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>